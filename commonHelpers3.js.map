{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["console.log('Promise generator');\n\n// ========== imports\n// ========== import \"izitoast\" library\n// ========== from documentation\nimport iziToast from \"izitoast\";\n// ========== additional\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// ========== find elements\nconst formPromises = document.querySelector('.form');\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) =>\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n        resolve({ position, delay });\n      } else {\n        // Reject\n        reject({ position, delay });\n      }\n    }, delay)\n  );\n};\n\n// ========== callback for listener\nconst onFormSubmit = (evt) => {\n  evt.preventDefault();\n\n  let delay = Number(formPromises.delay.value);\n\n  for (let i = 1; i <= formPromises.amount.value; i += 1) {\n    createPromise(i, delay)\n      .then(({ position, delay }) => {\n      // show in window\n      iziToast.show({\n        backgroundColor: 'lightgreen',\n        message: `✅ Fulfilled promise ${position} in ${delay}ms`,\n        position: 'topRight',\n        transitionIn: 'flipInX',\n        transitionOut: 'flipOutX',\n      });\n    })\n      .catch(({ position, delay }) => {\n      // show in console\n      iziToast.show({\n        backgroundColor: '#FD4A3F',\n        message: `❌ Rejected promise ${position} in ${delay}ms`,\n        position: 'topRight',\n        transitionIn: 'flipInX',\n        transitionOut: 'flipOutX',\n      });\n    });\n    delay = delay + Number(formPromises.step.value);\n  }\n};\n\n// ========== listener\nformPromises.addEventListener('submit', onFormSubmit);"],"names":["formPromises","createPromise","position","delay","shouldResolve","resolve","reject","onFormSubmit","evt","i","iziToast"],"mappings":"wIAAA,QAAQ,IAAI,mBAAmB,EAU/B,MAAMA,EAAe,SAAS,cAAc,OAAO,EAEnD,SAASC,EAAcC,EAAUC,EAAO,CACtC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GAEtC,OAAO,IAAI,QAAQ,CAACC,EAASC,IAC3B,WAAW,IAAM,CACXF,EAEFC,EAAQ,CAAE,SAAAH,EAAU,MAAAC,CAAK,CAAE,EAG3BG,EAAO,CAAE,SAAAJ,EAAU,MAAAC,CAAK,CAAE,CAE7B,EAAEA,CAAK,CACZ,CACA,CAGA,MAAMI,EAAgBC,GAAQ,CAC5BA,EAAI,eAAc,EAElB,IAAIL,EAAQ,OAAOH,EAAa,MAAM,KAAK,EAE3C,QAASS,EAAI,EAAGA,GAAKT,EAAa,OAAO,MAAOS,GAAK,EACnDR,EAAcQ,EAAGN,CAAK,EACnB,KAAK,CAAC,CAAE,SAAAD,EAAU,MAAAC,KAAY,CAE/BO,EAAS,KAAK,CACZ,gBAAiB,aACjB,QAAS,uBAAuBR,QAAeC,MAC/C,SAAU,WACV,aAAc,UACd,cAAe,UACvB,CAAO,CACP,CAAK,EACE,MAAM,CAAC,CAAE,SAAAD,EAAU,MAAAC,KAAY,CAEhCO,EAAS,KAAK,CACZ,gBAAiB,UACjB,QAAS,sBAAsBR,QAAeC,MAC9C,SAAU,WACV,aAAc,UACd,cAAe,UACvB,CAAO,CACP,CAAK,EACDA,EAAQA,EAAQ,OAAOH,EAAa,KAAK,KAAK,CAElD,EAGAA,EAAa,iBAAiB,SAAUO,CAAY"}